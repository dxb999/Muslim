<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
<title>Ù…ÙŠØ²Ø§Ù† Ø£Ø¹Ù…Ø§Ù„ÙŠ</title>
<style>
  /* Ù‚ÙÙ„ Ø§Ù„Ø´ÙƒÙ„ Ø¹Ø¨Ø± Reset Ø¨Ø³ÙŠØ· */
  *,*::before,*::after{box-sizing:border-box}
  html{-webkit-text-size-adjust:100%} /* ÙŠÙ…Ù†Ø¹ ØªÙƒØ¨ÙŠØ± Ø§Ù„Ù†Øµ ÙÙŠ iOS */
  body{margin:0;background:#f3f5f6;font-family:Tahoma,Arial,sans-serif;color:#111}
  :root{
    --green:#2e7d32; --card:#ffffff; --shadow:0 8px 18px rgba(0,0,0,.06);
    --muted:#7d8b92;
    --warn-bg:#ffefc2; --warn-border:#f9d46a; --warn-text:#8a6d1c;
    --grave-bg:#fde5e8; --grave-border:#f6bfc7; --grave-text:#651b22; --grave-fill:#e05263; --grave-track:#f6cbd1;
    --final-bg:#e7f4e9; --final-border:#cbe7d2; --final-text:#1e5a31;
    --btn:#ffb300; --btn-text:#1b1b1b;
  }
  .page{max-width:980px;margin:18px auto;padding:0 14px}
  h1{margin:6px 0 14px;text-align:center;color:var(--green);font-size:22px}
  .grid{display:grid;grid-template-columns:1fr 1fr;gap:16px}
  @media(max-width:740px){.grid{grid-template-columns:1fr}}
  .card{background:var(--card);border-radius:14px;box-shadow:var(--shadow);padding:16px}

  /* Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª */
  .card h2{margin:0 0 10px;font-size:18px}
  .ok{color:#1e7e34} .bad{color:#d32f2f}

  /* Ø§Ù„Ø­Ù‚ÙˆÙ„ */
  .field{display:flex;flex-direction:column;gap:8px;margin:8px 0}
  input,select,button{
    width:100%;padding:12px;border:1px solid #e5e8ea;border-radius:12px;font-size:16px;background:#fff;
    -webkit-appearance:none;appearance:none;outline:none; /* Ù‚ÙÙ„ ØªÙ†Ø³ÙŠÙ‚ iOS */
  }
  /* Ø³Ù‡Ù… Ø¨Ø³ÙŠØ· Ù„Ù„Ù€ select */
  select{background-image:linear-gradient(45deg,transparent 50%,#999 50%),linear-gradient(135deg,#999 50%,transparent 50%);background-position:calc(100% - 18px) calc(1.05em),calc(100% - 12px) calc(1.05em);background-size:6px 6px,6px 6px;background-repeat:no-repeat}
  button{background:var(--btn);color:var(--btn-text);border:none;font-weight:700;letter-spacing:.2px;cursor:pointer}
  .total{margin-top:8px;color:#111;font-weight:700}
  ul{margin:10px 0 0;padding:0;list-style:none;max-height:170px;overflow:auto}
  li{background:#e8f7f4;border:1px solid #cce8e1;border-radius:10px;padding:8px 10px;margin-bottom:8px;cursor:pointer}
  .muted{color:var(--muted);font-size:13px}

  /* Ø®Ø· Ø§Ù„ÙØ§Ø±Ù‚ */
  .summary{margin:14px 0;text-align:center;color:#111;font-weight:700}

  /* Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„ØªØ°ÙƒÙŠØ± (ØµÙØ±Ø§Ø¡) */
  .rem{background:var(--warn-bg);border:1px solid var(--warn-border);color:var(--warn-text)}
  .rem h3{margin:0 0 8px;font-size:16px}
  .rem p{margin:0 0 10px}

  /* Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù‚Ø¨Ø± (ÙˆØ±Ø¯ÙŠØ©) */
  .grave{background:var(--grave-bg);border:1px solid var(--grave-border);color:var(--grave-text)}
  .grave h3{margin:0 0 8px;font-size:16px}
  .bar-track{height:14px;background:var(--grave-track);border-radius:999px;overflow:hidden}
  .bar-fill{height:100%;width:0;background:var(--grave-fill);transition:width .35s ease}

  /* Ø§Ù„Ø¬Ø²Ø§Ø¡ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ (Ø®Ø¶Ø±Ø§Ø¡) */
  .final{background:var(--final-bg);border:1px solid var(--final-border);color:var(--final-text)}
  .final h3{margin:0 0 8px;font-size:16px;text-align:center}
  .meter-wrap{display:flex;align-items:center;justify-content:center;gap:18px;margin-top:6px}
  .col{width:80px;text-align:center;font-weight:700}
  .tube{width:42px;height:190px;background:#e0e0e0;border-radius:999px;position:relative;overflow:hidden}
  .tube .indicator{position:absolute;left:0;right:0;bottom:0;height:0%;
    background:linear-gradient(to top,#e05263,#f1b24a,#48b163);transition:height .35s ease}
  .final .note{text-align:center;margin-top:8px}
</style>
</head>
<body>
  <div class="page">
    <h1>ğŸ“– Ù…ÙŠØ²Ø§Ù† Ø£Ø¹Ù…Ø§Ù„ÙŠ</h1>

    <!-- Ø§Ù„Ø³ÙŠØ¦Ø§Øª / Ø§Ù„Ø­Ø³Ù†Ø§Øª -->
    <div class="grid">
      <div class="card" id="badCard">
        <h2 class="bad">Ø§Ù„Ø³ÙŠØ¦Ø§Øª âŒ</h2>
        <div class="field">
          <input id="badDesc" type="text" placeholder="ÙˆØµÙ Ø§Ù„Ø¹Ù…Ù„"/>
          <input id="badPoints" type="number" placeholder="Ø§Ù„Ø¯Ø±Ø¬Ø©" inputmode="numeric"/>
          <div class="muted">Ø§Ø®ØªØ± Ø¹Ù…Ù„Ù‹Ø§ Ø³ÙŠØ¦Ù‹Ø§:</div>
          <select id="badSelect"><option value="">â€” Ø§Ø®ØªØ± Ø¹Ù…Ù„Ø§Ù‹ Ø³ÙŠØ¦Ù‹Ø§ â€”</option></select>
          <button onclick="addFromSelect('bad')">Ø¥Ø¶Ø§ÙØ©</button>
        </div>
        <div class="total">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: <span id="badTotal">0</span></div>
        <ul id="badList"></ul>
        <div class="muted">Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù†ØµØ± Ù„Ø­Ø°ÙÙ‡.</div>
      </div>

      <div class="card" id="goodCard">
        <h2 class="ok">Ø§Ù„Ø­Ø³Ù†Ø§Øª âœ…</h2>
        <div class="field">
          <input id="goodDesc" type="text" placeholder="ÙˆØµÙ Ø§Ù„Ø¹Ù…Ù„"/>
          <input id="goodPoints" type="number" placeholder="Ø§Ù„Ø¯Ø±Ø¬Ø©" inputmode="numeric"/>
          <div class="muted">Ø§Ø®ØªØ± Ø¹Ù…Ù„Ø§Ù‹ Ø­Ø³Ù†Ù‹Ø§:</div>
          <select id="goodSelect"><option value="">â€” Ø§Ø®ØªØ± Ø¹Ù…Ù„Ø§Ù‹ Ø­Ø³Ù†Ù‹Ø§ â€”</option></select>
          <button onclick="addFromSelect('good')">Ø¥Ø¶Ø§ÙØ©</button>
        </div>
        <div class="total">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: <span id="goodTotal">0</span></div>
        <ul id="goodList"></ul>
        <div class="muted">Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù†ØµØ± Ù„Ø­Ø°ÙÙ‡.</div>
      </div>
    </div>

    <div class="summary">âš–ï¸ Ø§Ù„ÙØ§Ø±Ù‚ = <span id="netResult">0</span> Ù†Ù‚Ø·Ø©</div>

    <!-- ØªØ°ÙƒÙŠØ± -->
    <div class="card rem" style="margin-top:8px">
      <h3>â˜ ï¸ Ø¹Ø°Ø§Ø¨ Ø§Ù„Ù‚Ø¨Ø± â€“ ØªØ°ÙƒÙŠØ± ÙˆØªØ­Ø°ÙŠØ±</h3>
      <p id="reminderText">Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø± Ù„ØªØ³ØªØ°ÙƒØ± Ø§Ù„Ø¢Ø®Ø±Ø©...</p>
      <button onclick="showReminder()">Ø°ÙƒØ±Ù†ÙŠ Ø§Ù„ÙŠÙˆÙ…</button>
    </div>

    <!-- Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù‚Ø¨Ø± -->
    <div class="card grave" style="margin-top:12px">
      <h3>ğŸ“‰ Ø¹Ø¯Ø§Ø¯ Ø¹Ø°Ø§Ø¨ Ø§Ù„Ù‚Ø¨Ø±</h3>
      <div class="bar-track"><div id="graveFill" class="bar-fill"></div></div>
      <div id="graveLevel" style="margin-top:8px">Ø§Ù„Ù…Ø³ØªÙˆÙ‰: Ø¢Ù…Ù†</div>
    </div>

    <!-- Ø§Ù„Ø¬Ø²Ø§Ø¡ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ -->
    <div class="card final" style="margin-top:12px">
      <h3>ğŸŒŒ Ø§Ù„Ø¬Ø²Ø§Ø¡ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ</h3>
      <div class="meter-wrap">
        <div class="col">ğŸ”¥ Ø§Ù„Ù†Ø§Ø±</div>
        <div class="tube"><div id="finalIndicator" class="indicator"></div></div>
        <div class="col">ğŸŒ´ Ø§Ù„Ø¬Ù†Ø©</div>
      </div>
      <div id="finalNote" class="note muted">ØªØ¹Ø§Ø¯Ù„ Ø§Ù„Ø­Ø³Ø§Ø¨ØŒ ÙÙƒÙ† Ù…Ù† Ø§Ù„Ù…Ø³ØªØºÙØ±ÙŠÙ† âš–ï¸</div>
    </div>
  </div>

<script>
  /* Ø¨ÙŠØ§Ù†Ø§Øª */
  const goodActions=[{text:"ØµÙ„Ø§Ø© Ø§Ù„ÙØ¬Ø± ÙÙŠ ÙˆÙ‚ØªÙ‡Ø§",points:20},{text:"Ø§Ù„ØµØ¯Ù‚Ø© Ø¹Ù„Ù‰ Ù…Ø­ØªØ§Ø¬",points:15},{text:"Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù‚Ø±Ø¢Ù†",points:10},{text:"Ø¨Ø± Ø§Ù„ÙˆØ§Ù„Ø¯ÙŠÙ†",points:25},{text:"Ø§Ù„Ø§Ø³ØªØºÙØ§Ø± 100 Ù…Ø±Ø©",points:12},{text:"Ù‚ÙŠØ§Ù… Ø§Ù„Ù„ÙŠÙ„",points:18},{text:"ØµÙ„Ø© Ø§Ù„Ø±Ø­Ù…",points:16}];
  const badActions=[{text:"Ø§Ù„Ù†Ù…ÙŠÙ…Ø© (Ù†Ù‚Ù„ Ø§Ù„ÙƒÙ„Ø§Ù… Ù„Ù„Ø¥ÙØ³Ø§Ø¯)",points:15},{text:"Ø¹Ø¯Ù… Ø§Ù„Ø§Ø³ØªÙ†Ø²Ø§Ù‡ Ù…Ù† Ø§Ù„Ø¨ÙˆÙ„",points:15},{text:"Ø§Ù„ÙƒØ°Ø¨ Ø§Ù„Ù…Ù†ØªØ´Ø± Ø§Ù„Ù…Ø¤Ø°ÙŠ",points:20},{text:"Ø§Ù„Ø²Ù†Ø§",points:40},{text:"ØªØ±Ùƒ Ø§Ù„Ø¹Ù…Ù„ Ø¨Ø§Ù„Ù‚Ø±Ø¢Ù†/Ù‡Ø¬Ø±Ù‡ Ø¨Ø¹Ø¯ Ù…Ø¹Ø±ÙØªÙ‡",points:25},{text:"Ø§Ù„ØºÙ„ÙˆÙ„/Ø£Ø®Ø° Ù…Ø§Ù„ Ø¹Ø§Ù… Ø¨ØºÙŠØ± Ø­Ù‚",points:30},{text:"Ø§Ù„Ø¯ÙÙ‘ÙŠÙ† Ù…Ø¹ Ø§Ù„Ù…Ù…Ø§Ø·Ù„Ø© ÙˆØ§Ù„Ù‚Ø¯Ø±Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø¯Ø§Ø¯",points:20}];

  let goodTotal=0,badTotal=0;

  function populate(){
    const g=document.getElementById('goodSelect');
    goodActions.forEach(a=>{const o=document.createElement('option');o.value=a.points;o.textContent=`${a.text} (+${a.points})`;g.appendChild(o);});
    const b=document.getElementById('badSelect');
    badActions.forEach(a=>{const o=document.createElement('option');o.value=a.points;o.textContent=`${a.text} (-${a.points})`;b.appendChild(o);});
  }

  function addFromSelect(type){
    const sel=document.getElementById(type==='good'?'goodSelect':'badSelect');
    if(!sel.value) return;
    document.getElementById(type+'Desc').value=sel.options[sel.selectedIndex].textContent;
    document.getElementById(type+'Points').value=sel.value;
    addEntry(type); sel.selectedIndex=0;
  }

  function addEntry(type){
    const desc=(document.getElementById(type+'Desc').value||'').trim();
    const pts=parseInt(document.getElementById(type+'Points').value,10);
    if(!desc||isNaN(pts)) return;
    const ul=document.getElementById(type+'List');
    const li=document.createElement('li');
    li.textContent=`${desc} (${pts} Ù†Ù‚Ø·Ø©)`;
    li.onclick=()=>{ul.removeChild(li); if(type==='good'){goodTotal-=pts}else{badTotal-=pts}; updateAll();};
    ul.appendChild(li);
    if(type==='good'){goodTotal+=pts}else{badTotal+=pts}
    document.getElementById(type+'Desc').value=''; document.getElementById(type+'Points').value='';
    updateAll();
  }

  function updateNet(){document.getElementById('netResult').textContent = (goodTotal-badTotal);}

  function showReminder(){
    const arr=["ÙƒØ§Ù† Ø¹Ø«Ù…Ø§Ù† Ø¨Ù† Ø¹ÙØ§Ù† Ø¥Ø°Ø§ Ø°ÙÙƒØ± Ø§Ù„Ù‚Ø¨Ø± Ø¨ÙƒÙ‰ Ø­ØªÙ‰ ØªØ¨ØªÙ„ Ù„Ø­ÙŠØªÙ‡.","Ø§Ù„Ù‚Ø¨Ø± Ø£ÙˆÙ„ Ù…Ù†Ø§Ø²Ù„ Ø§Ù„Ø¢Ø®Ø±Ø©ØŒ ÙØ¥Ù† Ù†Ø¬Ø§ Ù…Ù†Ù‡ ÙÙ…Ø§ Ø¨Ø¹Ø¯Ù‡ Ø£ÙŠØ³Ø±.","Ø£ÙƒØ«Ø±ÙˆØ§ Ù…Ù† Ø°ÙƒØ± Ù‡Ø§Ø¯Ù… Ø§Ù„Ù„Ø°Ø§Øª: Ø§Ù„Ù…ÙˆØª.","Ø§Ù„Ù„Ù‡Ù… Ù‚ÙÙ†Ø§ Ø¹Ø°Ø§Ø¨ Ø§Ù„Ù‚Ø¨Ø±ØŒ ÙˆØ«Ø¨Ù‘ØªÙ†Ø§ Ø¹Ù†Ø¯ Ø§Ù„Ø³Ø¤Ø§Ù„.","Ø§Ø³ØªØ¹Ø¯ÙˆØ§ Ù„Ù„Ù‚Ø¨Ø±ØŒ ÙØ¥Ù† Ø§Ù„Ù„ÙŠÙ„ ÙˆØ§Ù„Ù†Ù‡Ø§Ø± ÙŠØ¹Ù…Ù„Ø§Ù† ÙÙŠÙƒÙ…."];
    document.getElementById('reminderText').textContent = arr[Math.floor(Math.random()*arr.length)];
  }

  /* Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù‚Ø¨Ø± (Ù…Ø¨Ø³Ù‘Ø·: Ø¹Ù„Ù‰ Ø§Ù„Ø³ÙŠØ¦Ø§Øª ÙÙ‚Ø· Ù„Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ù†ÙØ³ Ø§Ù„Ø´ÙƒÙ„/Ø§Ù„Ø³Ù„ÙˆÙƒ) */
  function updateGrave(){
    const risk = Math.min(100, Math.max(0, badTotal));
    document.getElementById('graveFill').style.width = risk + '%';
    let label="Ø¢Ù…Ù†";
    if(risk>10 && risk<=30) label="ØªØ­Ø°ÙŠØ± Ø¨Ø³ÙŠØ·";
    else if(risk>30 && risk<=60) label="Ø®Ø·Ø± Ù…ØªÙˆØ³Ø· âš ï¸";
    else if(risk>60) label="Ø§Ù‚ØªØ±Ø§Ø¨ Ù…Ù† Ø§Ù„Ø¹Ø°Ø§Ø¨ ğŸ˜Ÿ";
    document.getElementById('graveLevel').textContent='Ø§Ù„Ù…Ø³ØªÙˆÙ‰: '+label;
  }

  function updateFinal(){
    const net=goodTotal-badTotal;
    let h=50,txt="ØªØ¹Ø§Ø¯Ù„ Ø§Ù„Ø­Ø³Ø§Ø¨ØŒ ÙÙƒÙ† Ù…Ù† Ø§Ù„Ù…Ø³ØªØºÙØ±ÙŠÙ† âš–ï¸";
    if(net>100){h=100;txt="ğŸ¥‡ Ø£Ø¹Ù…Ø§Ù„Ùƒ Ø¹Ø¸ÙŠÙ…Ø©ØŒ ÙˆØ¬Ù‡ØªÙƒ Ø§Ù„Ø¬Ù†Ø© Ø¨Ø¥Ø°Ù† Ø§Ù„Ù„Ù‡!";}
    else if(net>50){h=80;txt="ğŸŒ¿ Ù…ØµÙŠØ±Ùƒ Ø§Ù„Ø¬Ù†Ø© Ø¥Ù† Ø´Ø§Ø¡ Ø§Ù„Ù„Ù‡ØŒ ÙˆØ§ØµÙ„ Ø§Ù„Ø«Ø¨Ø§Øª.";}
    else if(net>0){h=65;txt="ğŸ¤² Ø¹Ù„Ù‰ Ø§Ù„Ø·Ø±ÙŠÙ‚ØŒ ÙˆØ§ØµÙ„ Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„ØµØ§Ù„Ø­.";}
    else if(net===0){h=50;txt="ØªØ¹Ø§Ø¯Ù„ Ø§Ù„Ø­Ø³Ø§Ø¨ØŒ ÙÙƒÙ† Ù…Ù† Ø§Ù„Ù…Ø³ØªØºÙØ±ÙŠÙ† âš–ï¸";}
    else if(net>-30){h=35;txt="â— Ø®Ø·Ø±! Ø±Ø§Ø¬Ø¹ Ù†ÙØ³Ùƒ Ù‚Ø¨Ù„ ÙÙˆØ§Øª Ø§Ù„Ø£ÙˆØ§Ù†.";}
    else if(net>-70){h=20;txt="ğŸ”¥ ØªØ³Ø§Ø±Ø¹ Ù†Ø­Ùˆ Ø§Ù„Ø®Ø·Ø±ØŒ Ø¨Ø§Ø¯Ø± Ø¨Ø§Ù„ØªÙˆØ¨Ø©.";}
    else {h=5;txt="ğŸš« Ù…ØµÙŠØ±Ùƒ Ø§Ù„Ù†Ø§Ø± Ø¥Ù† Ù„Ù… ØªØªØ¨ØŒ Ø§Ù„Ù„Ù‡Ù… Ø³Ù„Ù…!";}
    document.getElementById('finalIndicator').style.height=h+'%';
    document.getElementById('finalNote').textContent=txt;
  }

  function updateAll(){updateNet();updateGrave();updateFinal();}
  window.onload=()=>{populate();updateAll();};
</script>
</body>
</html>
